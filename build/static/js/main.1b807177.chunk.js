(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{231:function(e,t,a){},281:function(e,t,a){},282:function(e){e.exports=JSON.parse("{}")},283:function(e,t,a){},494:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(0),n=a.n(s),r=a(31),l=a.n(r),o=(a(231),a(7)),i=a(219),j=(a(280),a(281),a(221)),u=a.n(j),d=(a(282),a(157),a(508)),b=a(64),m=a(23),h=a(507),x=a(224),O=(a(283),a(94)),f=a.n(O),p=a(96);function g(e){var t=Object(p.withScriptjs)(Object(p.withGoogleMap)((function(){return Object(c.jsx)(p.GoogleMap,{defaultZoom:12,defaultCenter:{lat:e.Latitude,lng:e.Longitude}})})));return Object(c.jsx)("div",{style:{width:"470px",height:"540px"},children:Object(c.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(c.jsx)("div",{style:{height:"100%"}}),containerElement:Object(c.jsx)("div",{style:{height:"100%"}}),mapElement:Object(c.jsx)("div",{style:{height:"100%"}})})})}function N(e){var t,a=Object(s.useState)({}),n=Object(o.a)(a,2),r=n[0],l=n[1],i=Object(s.useState)(!1),j=Object(o.a)(i,2),u=j[0],O=j[1],p=Object(s.useState)({Longitude:"",Latitude:""}),N=Object(o.a)(p,2),v=N[0],y=N[1];return Object(s.useEffect)((function(){l(e.restaurant),function(){for(var t=0;t<e.allRestaurant.length;t++)if(e.allRestaurant[t].License==e.restaurant.License){var a=e.allRestaurant[t].Longitude,c=e.allRestaurant[t].Latitude;y({Longitude:a,Latitude:c})}}()}),[]),Object(c.jsxs)(c.Fragment,{children:[u&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"pt-5 pb-5",children:"Your alert has been token. Thank you for your time"}),Object(c.jsx)(d.a,{className:"",onClick:function(){O(!1)},children:"Create another alert ?"})]}),!u&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{className:"pt-5",children:"Create an Alert"}),Object(c.jsxs)("div",{className:"myContainer  d-flex flex-row justify-content-around",children:[Object(c.jsx)("div",(t={className:!0},Object(b.a)(t,"className","form-container p-3"),Object(b.a)(t,"children",Object(c.jsxs)(h.a,{onSubmit:function(e){return function(e){e.preventDefault(),f.a.post("https://indigestion-prediction-backend.herokuapp.com/api/addAlert",r).then((function(e){O(!0)})).catch((function(e){})),console.log(r),O(!0)}(e)},children:[Object(c.jsx)(h.a.Row,{children:Object(c.jsxs)(h.a.Group,{as:x.a,controlId:"formBasicName",value:r.fullName,onChange:function(e){return l(Object(m.a)(Object(m.a)({},r),{},{fullName:e.target.value}))},children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Full Name"}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:"Enter email",required:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]})}),Object(c.jsxs)(h.a.Group,{controlId:"formBasicAdress",value:r.address,onChange:function(e){return l(Object(m.a)(Object(m.a)({},r),{},{address:e.target.value}))},children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Your Address"}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:"Enter adress",required:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(h.a.Row,{children:[Object(c.jsxs)(h.a.Group,{as:x.a,controlId:"formBasicRestaurantName",children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:" Restaurant Name"}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:r.restaurantName,readOnly:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(h.a.Group,{as:x.a,controlId:"formBasicRestaurantAdress",children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Restaurant Address"}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:r.restaurantAddress,readOnly:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]})]}),Object(c.jsxs)(h.a.Row,{children:[Object(c.jsxs)(h.a.Group,{as:x.a,controlId:"formBasicItam",value:r.itemPurchased,onChange:function(e){return l(Object(m.a)(Object(m.a)({},r),{},{itemPurchased:e.target.value}))},children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Item Purchased"}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:"Enter Item Purchased",required:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(h.a.Group,{as:x.a,controlId:"formBasicDatePurchased",value:r.dateOfPurchase,onChange:function(e){return l(Object(m.a)(Object(m.a)({},r),{},{dateOfPurchase:e.target.value}))},children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Date of Purchased"}),Object(c.jsx)(h.a.Control,{type:"date",placeholder:"Enter Date of Purchased Like that: MM/DD/YYYY ",required:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]})]}),Object(c.jsxs)(h.a.Group,{controlId:"formBasicTimePurchased",value:r.symptoms,onChange:function(e){return l(Object(m.a)(Object(m.a)({},r),{},{symptoms:e.target.value}))},children:[Object(c.jsx)(h.a.Label,{className:"float-left",children:"Symptoms "}),Object(c.jsx)(h.a.Control,{type:"text",placeholder:"Enter the symptoms",required:!0}),Object(c.jsx)(h.a.Text,{className:"text-muted"})]}),Object(c.jsx)(d.a,{className:"float-left",variant:"primary",type:"submit",children:"Submit"})]})),t)),Object(c.jsx)("div",{className:"mx-3",children:Object(c.jsx)(g,{Latitude:v.Latitude,Longitude:v.Longitude})})]})]})]})}a(494);var v=a(225);var y=function(e){var t=Object(s.useState)(e.labels),a=Object(o.a)(t,2),n=a[0],r=(a[1],Object(s.useState)(e.dataGraph)),l=Object(o.a)(r,2),i=l[0];return l[1],Object(s.useEffect)((function(){console.log(e.dataGraph)}),[]),Object(c.jsx)("div",{className:"mx-4 mt-3",children:Object(c.jsx)(v.Bar,{data:{labels:n,datasets:[{label:"Inspections",backgroundColor:["rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)","rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)","rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)"],data:i}]},height:300,options:{title:{display:!0,text:"Gravity"},legend:{display:!1},scales:{yAxes:[{ticks:{min:0,max:3,stepSize:.5}}]}}})})};function L(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),n=(a[0],a[1],Object(s.useState)([])),r=Object(o.a)(n,2),l=r[0],i=r[1],j=Object(s.useState)([]),u=Object(o.a)(j,2),d=u[0],b=u[1],m=Object(s.useState)(!1),O=Object(o.a)(m,2),p=O[0],g=O[1];return Object(s.useEffect)((function(){f.a.get("https://indigestion-prediction-backend.herokuapp.com/api/inspections/".concat(e.restaurant.License)).then((function(e){var t=e.data.map((function(e){return e.Inspection_Date}));i(t);var a=e.data.map((function(e){return e.Risk_pred}));b(a)})).catch((function(e){console.log(e)})),g(!0)}),[e]),Object(c.jsx)(c.Fragment,{children:p&&Object(c.jsxs)("div",{className:"pt-5 mx-3",children:[console.log(l),console.log(d),Object(c.jsx)("h3",{className:"mb-5 text-center",children:"Please read the information below about the restaurant"}),l.length&&d.length&&Object(c.jsxs)("div",{className:"container-prediction d-flex flex-row align-items-center justify-content-around",children:[Object(c.jsxs)("div",{className:"history-restaurant",children:[Object(c.jsx)(h.a.Row,{className:"mt-4 mx-3",children:Object(c.jsxs)(h.a.Group,{as:x.a,children:[Object(c.jsx)(h.a.Label,{className:"ml-2 float-left",children:"Restaurant Name"}),Object(c.jsx)(h.a.Control,{className:"text-info",value:e.restaurant.restaurantName,name:"",type:"text",placeholder:""})]})}),Object(c.jsxs)(h.a.Row,{className:"mt-4 mx-3",children:[Object(c.jsxs)(h.a.Group,{as:x.a,children:[Object(c.jsx)(h.a.Label,{className:"ml-2 float-left",children:"Licence number"}),Object(c.jsx)(h.a.Control,{className:"text-info",value:e.restaurant.License,name:"",type:"text",placeholder:""})]}),Object(c.jsxs)(h.a.Group,{as:x.a,children:[Object(c.jsx)(h.a.Label,{className:"ml-2 float-left",children:"number Of inspections"}),Object(c.jsx)(h.a.Control,{className:"text-info",value:l.length,name:"",type:"text",placeholder:""})]})]}),Object(c.jsxs)(h.a.Row,{className:"mx-3",children:[Object(c.jsxs)(h.a.Group,{as:x.a,children:[Object(c.jsx)(h.a.Label,{className:"ml-2 float-left",children:"first inspection"}),Object(c.jsx)(h.a.Control,{className:"text-info",value:l[0],name:"",type:"text",placeholder:""})]}),Object(c.jsxs)(h.a.Group,{as:x.a,children:[Object(c.jsx)(h.a.Label,{className:"ml-2 float-left",children:"last inspection"}),Object(c.jsx)(h.a.Control,{className:"text-info",value:l[l.length-1],name:"",type:"text",placeholder:""})]})]})]}),Object(c.jsxs)("div",{className:"dougnut",children:[console.log(l),console.log(d),l.length&&d.length&&Object(c.jsx)(y,{labels:l,dataGraph:d})]})]})]})})}var C=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)([]),l=Object(o.a)(r,2),j=l[0],b=l[1],m=Object(s.useState)(""),h=Object(o.a)(m,2),x=h[0],O=h[1],f=Object(s.useState)(!1),p=Object(o.a)(f,2),g=p[0],v=p[1],y=Object(s.useState)(!1),C=Object(o.a)(y,2),S=C[0],w=C[1],A=Object(s.useState)({}),R=Object(o.a)(A,2),G=R[0],k=R[1];function I(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}return Object(s.useEffect)((function(){fetch("".concat("https://indigestion-prediction-backend.herokuapp.com/api/restaurants/")).then((function(e){return e.json()})).then((function(e){!function(e){e.forEach((function(e){e.text="".concat(I(e.DBA_Name)," at ").concat(I(e.Address))}))}(e),n(e);var t=e.map((function(e){return e.text}));t.sort(),b(t)})).catch((function(e){u.a.fire("Trouble connecting to server")}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"top px-3 py-3 rounded",children:[Object(c.jsx)("h2",{children:"Welcome to Indigestion Alert"}),Object(c.jsx)("hr",{}),"To report a problem or see our predicted rating, please select a restaurant:",Object(c.jsx)("div",{className:"selector   my-3",children:Object(c.jsx)(i.Combobox,{data:j,onChange:function(e){return function(e){O(e),v(!1),w(!1)}(e)},caseSensitive:!1,minLength:3,filter:"contains"})})," ",""!==x&&Object(c.jsxs)("p",{className:"btns mt-2",children:[Object(c.jsx)(d.a,{className:"mr-5 font-weight-bold btn",variant:"danger",onClick:function(){return function(){w(!1);try{var e=a.find((function(e){return e.text===x})),t={restaurantName:e.DBA_Name,restaurantAddress:e.Address,License:e.License};k(t),v(!0)}catch(c){return}}()},children:"Report a potential problem"}),Object(c.jsx)(d.a,{className:"ml-5 font-weight-bold btn",variant:"secondary",onClick:function(){return function(){v(!1);try{var e=a.find((function(e){return e.text===x})),t={restaurantName:e.DBA_Name,restaurantAddress:e.Address,License:e.License};k(t),w(!0)}catch(c){return}}()},children:"See our assessment"})]})]}),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"container",children:[S&&Object(c.jsx)(L,{restaurant:G}),g&&Object(c.jsx)(N,{restaurant:G,allRestaurant:a})]})})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,509)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};l.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),S()}},[[504,1,2]]]);
//# sourceMappingURL=main.1b807177.chunk.js.map