(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{159:function(e,t,a){},220:function(e,t,a){},233:function(e,t,a){},283:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),s=a.n(c),r=a(31),i=a.n(r),l=(a(233),a(6)),o=a(222),j=(a(282),a(283),a(142)),d=a.n(j),u=(a(108),a(509)),b=(a(159),a(63)),h=a.n(b),O=a(66);function m(e){Object(c.useEffect)((function(){console.log(e.nameCity)}),[]);var t=Object(O.withScriptjs)(Object(O.withGoogleMap)((function(){return Object(n.jsx)(O.GoogleMap,{defaultZoom:12,defaultCenter:{lat:e.Latitude,lng:e.Longitude},children:e.allRestaurant.map((function(t){if(e.nameCity==t.City)return Object(n.jsx)(O.Marker,{position:{lat:t.Latitude,lng:t.Longitude}},t.License)}))})})));return Object(n.jsx)("div",{style:{width:"470px",height:"640px"},children:Object(n.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyBllmc_jF_IqNOPUz9l7_BW87gRZ9IZMC4",loadingElement:Object(n.jsx)("div",{style:{height:"100%"}}),containerElement:Object(n.jsx)("div",{style:{height:"100%"}}),mapElement:Object(n.jsx)("div",{style:{height:"100%"}})})})}var x=a(65),f=a(20),p=a(508),g=a(226);function N(e){var t,a=Object(c.useState)({}),s=Object(l.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2);j[0],j[1];return Object(c.useEffect)((function(){i(e.restaurant)}),[]),Object(n.jsx)("div",(t={className:!0},Object(x.a)(t,"className","form-container p-3"),Object(x.a)(t,"children",Object(n.jsxs)(p.a,{onSubmit:function(t){return function(t){t.preventDefault(),h.a.post("https://indigestion-prediction-backend.herokuapp.com/api/addAlert",r).then((function(e){console.log("Done")})).catch((function(e){})),e.handleAlertDone(),console.log(r)}(t)},children:[Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicName",value:r.fullName,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{fullName:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Full Name"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:"Enter Name",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]})}),Object(n.jsxs)(p.a.Group,{controlId:"formBasicAdress",value:r.address,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{address:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Your Address"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:"Enter address",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicRestaurantName",children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:" Restaurant Name"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:r.restaurantName,readOnly:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicRestaurantAdress",children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Restaurant Address"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:r.restaurantAddress,readOnly:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]})]}),Object(n.jsx)(p.a.Row,{children:Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicItam",value:r.itemPurchased,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{itemPurchased:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Item Purchased"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:"Enter Item Purchased",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]})}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicDatePurchased",value:r.dateOfPurchase,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{dateOfPurchase:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Date of Purchased"}),Object(n.jsx)(p.a.Control,{type:"date",placeholder:"MM/DD/YYYY ",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]}),Object(n.jsxs)(p.a.Group,{as:g.a,controlId:"formBasicDatePurchased",value:r.dateOfPurchase,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{timeOfPurchase:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Time of Purchased"}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:"ss/mm/hhhh ",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]})]}),Object(n.jsxs)(p.a.Group,{controlId:"formBasicTimePurchased",value:r.symptoms,onChange:function(e){return i(Object(f.a)(Object(f.a)({},r),{},{symptoms:e.target.value}))},children:[Object(n.jsx)(p.a.Label,{className:"float-left",children:"Symptoms "}),Object(n.jsx)(p.a.Control,{type:"text",placeholder:"Enter the symptoms",required:!0}),Object(n.jsx)(p.a.Text,{className:"text-muted"})]}),Object(n.jsx)(u.a,{className:"float-left",variant:"primary",type:"submit",children:"Submit"})]})),t))}function v(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)({Longitude:"",Latitude:""}),o=Object(l.a)(i,2),j=o[0],d=o[1];return Object(c.useEffect)((function(){console.log(e.nameCity),function(){for(var t=0;t<e.allRestaurant.length;t++)if(e.allRestaurant[t].License==e.restaurant.License){var a=e.allRestaurant[t].Longitude,n=e.allRestaurant[t].Latitude;d({Longitude:a,Latitude:n})}}()}),[]),Object(n.jsxs)(n.Fragment,{children:[s&&Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"pt-5 pb-5",children:"Your alert has been token. Thank you for your time"}),Object(n.jsx)(u.a,{className:"",onClick:function(){r(!1)},children:"Create another alert ?"})]}),!s&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{className:"pt-5",children:"Create an Alert"}),Object(n.jsxs)("div",{className:"myContainer  d-flex flex-row justify-content-around",children:[Object(n.jsx)(N,{restaurant:e.restaurant,handleAlertDone:function(){r(!0)}}),Object(n.jsx)("div",{className:"mx-3",children:Object(n.jsx)(m,{Latitude:j.Latitude,Longitude:j.Longitude,allRestaurant:e.allRestaurant,nameCity:e.nameCity})})]})]})]})}a(220);var y=a(227);var C=function(e){var t=Object(c.useState)(e.labels),a=Object(l.a)(t,2),s=a[0],r=(a[1],Object(c.useState)(e.dataGraph)),i=Object(l.a)(r,2),o=i[0];return i[1],Object(c.useEffect)((function(){console.log(e.dataGraph)}),[]),Object(n.jsx)("div",{className:"mx-4 mt-3",children:Object(n.jsx)(y.Bar,{data:{labels:s,datasets:[{label:"Inspections",backgroundColor:["rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)","rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)","rgba(17, 171, 17, 0.2)","rgba(245, 193, 22, 0.2)","rgba(226, 19, 19, 0.2)","rgba(124, 32, 86, 0.2)","rgba(150, 32, 06, 0.2)","rgba(86, 15, 10, 0.2)"],data:o}]},height:300,options:{title:{display:!0,text:"Gravity"},legend:{display:!1},scales:{yAxes:[{ticks:{min:0,max:3,stepSize:.5}}]}}})})};function L(e){var t=Object(c.useState)(1),a=Object(l.a)(t,2),s=a[0];a[1];return Object(n.jsxs)("div",{className:"history-restaurant our",children:[Object(n.jsxs)("h1",{children:["The predicted rating for this restaurant is: ",Object(n.jsx)("b",{children:s})," "]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h5",{children:"What does this number Mean? "}),Object(n.jsx)("p",{children:"Restaurant are rated from 1 to 3."}),Object(n.jsx)("p",{children:"A rating of1 means the inspection passed the inspection."}),Object(n.jsx)("p",{children:"A rating of 2 means that the inspection passed, however warnings were issued."}),Object(n.jsx)("p",{children:"A rating of 3 means the establishment failed the inspection."})]})}function S(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),s=(a[0],a[1],Object(c.useState)([])),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)([]),d=Object(l.a)(j,2),u=d[0],b=d[1],O=Object(c.useState)(!1),m=Object(l.a)(O,2),x=m[0],f=m[1];return Object(c.useEffect)((function(){h.a.get("https://indigestion-prediction-backend.herokuapp.com/api/inspections/".concat(e.restaurant.License)).then((function(e){var t=e.data.map((function(e){return e.Inspection_Date}));o(t);var a=e.data.map((function(e){return e.Risk_pred}));b(a)})).catch((function(e){console.log(e)})),f(!0)}),[e]),Object(n.jsx)(n.Fragment,{children:x&&Object(n.jsxs)("div",{className:"pt-5 mx-3",children:[console.log(i),console.log(u),Object(n.jsx)("h3",{className:"mb-5 text-center",children:"Please read the information below about the restaurant"}),i.length&&u.length&&Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"container-prediction d-flex flex-row align-items-center justify-content-around ",children:Object(n.jsx)(L,{License:e.restaurant.License})}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"container-prediction d-flex flex-row align-items-center justify-content-around",children:[Object(n.jsxs)("div",{className:"history-restaurant",children:[Object(n.jsx)(p.a.Row,{className:"mt-4 mx-3",children:Object(n.jsxs)(p.a.Group,{as:g.a,children:[Object(n.jsx)(p.a.Label,{className:"ml-2 float-left",children:"Restaurant Name"}),Object(n.jsx)(p.a.Control,{className:"text-info",value:e.restaurant.restaurantName,name:"",type:"text",placeholder:""})]})}),Object(n.jsxs)(p.a.Row,{className:"mt-4 mx-3",children:[Object(n.jsxs)(p.a.Group,{as:g.a,children:[Object(n.jsx)(p.a.Label,{className:"ml-2 float-left",children:"Licence number"}),Object(n.jsx)(p.a.Control,{className:"text-info",value:e.restaurant.License,name:"",type:"text",placeholder:""})]}),Object(n.jsxs)(p.a.Group,{as:g.a,children:[Object(n.jsx)(p.a.Label,{className:"ml-2 float-left",children:"number Of inspections"}),Object(n.jsx)(p.a.Control,{className:"text-info",value:i.length,name:"",type:"text",placeholder:""})]})]}),Object(n.jsxs)(p.a.Row,{className:"mx-3",children:[Object(n.jsxs)(p.a.Group,{as:g.a,children:[Object(n.jsx)(p.a.Label,{className:"ml-2 float-left",children:"first inspection"}),Object(n.jsx)(p.a.Control,{className:"text-info",value:i[0],name:"",type:"text",placeholder:""})]}),Object(n.jsxs)(p.a.Group,{as:g.a,children:[Object(n.jsx)(p.a.Label,{className:"ml-2 float-left",children:"last inspection"}),Object(n.jsx)(p.a.Control,{className:"text-info",value:i[i.length-1],name:"",type:"text",placeholder:""})]})]})]}),Object(n.jsxs)("div",{className:"dougnut",children:[console.log(i),console.log(u),i.length&&u.length&&Object(n.jsx)(C,{labels:i,dataGraph:u})]})]})]})]})})}a(501);function A(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],r=a[1];return Object(n.jsx)("div",{className:"py-5",children:Object(n.jsxs)("div",{className:"box rounded my-4 p-4",children:["Please enter the access code:",Object(n.jsx)("input",{onChange:function(e){r(e.target.value)},type:"password",className:"ml-2 rounded"}),Object(n.jsx)("button",{onClick:function(){123==s?e.confirm():e.deny()},className:"ml-2 rounded button",children:"Enter"})]})})}a(502);function w(e){for(var t=e.listPerPage,a=e.totalList,c=e.paginate,s=[],r=1;r<=Math.ceil(a/t);r++)s.push(r);return Object(n.jsx)("nav",{className:"mx-5 mt-3",children:Object(n.jsx)("ul",{className:"pagination justify-content-center mx-5",children:s.map((function(e){return Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("a",{onClick:function(){return c(e)},href:"#",className:"page-link",children:e})},e)}))})})}function R(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(1),i=Object(l.a)(r,2),o=i[0],j=i[1],d=Object(c.useState)(5),u=Object(l.a)(d,1)[0],b=o*u,h=b-u,O=a.slice(h,b);function m(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}return Object(c.useEffect)((function(){fetch("https://indigestion-prediction-backend.herokuapp.com/api/restaurantsAlerts").then((function(e){return e.json()})).then((function(e){var t=e.map((function(t){var a;return e.sort((function(e,t){return e.NumberOfAlerts<t.NumberOfAlerts?1:-1})),(a=t).nameFormatted=m(a.DBA_Name),a.addressFormatted=m(a.Address),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.License}),Object(n.jsx)("td",{children:t.nameFormatted}),Object(n.jsx)("td",{children:t.addressFormatted}),Object(n.jsx)("td",{children:t.NumberOfAlerts})]},t.id)}));s(t)})).catch((function(e){return window.alert("There was an unexpected error.")}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("table",{className:"rounded mx-auto mb-2",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"License"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Address"}),Object(n.jsx)("th",{children:"Alerts in the last 3 days"})]},"12")}),Object(n.jsx)("tbody",{children:O})]}),Object(n.jsx)(w,{listPerPage:u,totalList:a.length,paginate:function(e){j(e)}})]})}var k=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)([]),i=Object(l.a)(r,2),j=i[0],b=i[1],h=Object(c.useState)(""),O=Object(l.a)(h,2),m=O[0],x=O[1],f=Object(c.useState)(!1),p=Object(l.a)(f,2),g=p[0],N=p[1],y=Object(c.useState)(!1),C=Object(l.a)(y,2),L=C[0],w=C[1],k=Object(c.useState)({}),P=Object(l.a)(k,2),G=P[0],I=P[1],B=Object(c.useState)(!1),E=Object(l.a)(B,2),T=E[0],D=E[1],F=Object(c.useState)(!1),M=Object(l.a)(F,2),_=M[0],q=M[1],Y=Object(c.useState)(),U=Object(l.a)(Y,2),z=U[0],W=U[1];function Z(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}return Object(c.useEffect)((function(){fetch("".concat("https://indigestion-prediction-backend.herokuapp.com/api/restaurants/")).then((function(e){return e.json()})).then((function(e){!function(e){e.forEach((function(e){e.text="".concat(Z(e.DBA_Name)," at ").concat(Z(e.Address))}))}(e),s(e);var t=e.map((function(e){return e.text}));t.sort(),b(t)})).catch((function(e){d.a.fire("Trouble connecting to server")}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"top px-3 py-3 rounded",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("h2",{children:"Welcome to Indigert"}),Object(n.jsx)("div",{onClick:function(){return D(!0),N(!1),void w(!1)},className:"titleBtn",children:"Access Health Ministry Section"})]}),Object(n.jsx)("hr",{}),"To report a problem or see our predicted rating, please select a restaurant:",Object(n.jsx)("div",{className:"selector   my-3",children:Object(n.jsx)(o.Combobox,{data:j,onChange:function(e){return function(e){x(e),N(!1),w(!1),D(!1),q(!1)}(e)},caseSensitive:!1,minLength:3,filter:"contains"})}),""!==m&&Object(n.jsxs)("p",{className:"btns mt-2",children:[Object(n.jsx)(u.a,{className:"mr-5 font-weight-bold btn",variant:"danger",onClick:function(){return function(){w(!1),D(!1),q(!1);try{var e=a.find((function(e){return e.text===m})),t={restaurantName:e.DBA_Name,restaurantAddress:e.Address,License:e.License},n=e.City;W(n),I(t),N(!0)}catch(c){return}}()},children:"Report a potential problem"}),Object(n.jsx)(u.a,{className:"ml-5 font-weight-bold btn",variant:"secondary",onClick:function(){return function(){N(!1),D(!1),q(!1);try{var e=a.find((function(e){return e.text===m})),t={restaurantName:e.DBA_Name,restaurantAddress:e.Address,License:e.License};I(t),w(!0)}catch(n){return}}()},children:"See our assessment"})]})]}),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"container",children:[_&&Object(n.jsx)("div",{className:"pt-5",children:Object(n.jsx)(R,{})}),T&&Object(n.jsx)(A,{confirm:function(){return D(!1),void q(!0)},deny:function(){return d.a.fire("Access denied"),void D(!1)}}),L&&Object(n.jsx)(S,{restaurant:G}),g&&Object(n.jsx)(v,{restaurant:G,allRestaurant:a,nameCity:z})]})})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,510)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root")),P()}},[[504,1,2]]]);
//# sourceMappingURL=main.e838018f.chunk.js.map